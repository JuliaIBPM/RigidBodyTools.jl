<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Joints and body-joint systems · RigidBodyTools.jl</title><meta name="title" content="Joints and body-joint systems · RigidBodyTools.jl"/><meta property="og:title" content="Joints and body-joint systems · RigidBodyTools.jl"/><meta property="twitter:title" content="Joints and body-joint systems · RigidBodyTools.jl"/><meta name="description" content="Documentation for RigidBodyTools.jl."/><meta property="og:description" content="Documentation for RigidBodyTools.jl."/><meta property="twitter:description" content="Documentation for RigidBodyTools.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">RigidBodyTools.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Bodies and Transforms</span><ul><li><a class="tocitem" href="../shapes/">Creating bodies</a></li><li><a class="tocitem" href="../transforms/">Plucker vectors and coordinate transforms</a></li><li><a class="tocitem" href="../bodylists/">Lists of bodies and their transforms</a></li></ul></li><li><span class="tocitem">Motions</span><ul><li><a class="tocitem" href="../dofmotions/">Behaviors of degrees of freedom</a></li><li class="is-active"><a class="tocitem" href>Joints and body-joint systems</a><ul class="internal"><li><a class="tocitem" href="#Joint-construction-generalities"><span>Joint construction generalities</span></a></li><li><a class="tocitem" href="#Example"><span>Example</span></a></li><li><a class="tocitem" href="#Assembling-the-joints-and-bodies"><span>Assembling the joints and bodies</span></a></li><li><a class="tocitem" href="#The-system-state-vector"><span>The system state vector</span></a></li><li><a class="tocitem" href="#Advancing-the-state-vector"><span>Advancing the state vector</span></a></li><li><a class="tocitem" href="#Joint-functions"><span>Joint functions</span></a></li><li><a class="tocitem" href="#System-and-state-functions"><span>System and state functions</span></a></li><li><a class="tocitem" href="#Joint-types"><span>Joint types</span></a></li></ul></li><li><a class="tocitem" href="../exogenous/">Exogenous degrees of freedom</a></li><li><a class="tocitem" href="../deformation/">Deforming bodies</a></li><li><a class="tocitem" href="../surfacevelocities/">Evaluating velocities on body surfaces</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Motions</a></li><li class="is-active"><a href>Joints and body-joint systems</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Joints and body-joint systems</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaIBPM/RigidBodyTools.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/master/test/literate/joints.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Joints-and-body-joint-systems"><a class="docs-heading-anchor" href="#Joints-and-body-joint-systems">Joints and body-joint systems</a><a id="Joints-and-body-joint-systems-1"></a><a class="docs-heading-anchor-permalink" href="#Joints-and-body-joint-systems" title="Permalink"></a></h1><p>For systems consisting of one or more rigid bodies, <em>joints</em> are used to specify the degrees of freedom permitted for the body. Even for a single rigid body, the body is assumed to be connected by a joint with the inertial coordinate system.</p><p>In three dimensions, there are several different classes of joint:</p><ul><li><code>RevoluteJoint</code>, which rotates about an axis and has only one degree of freedom</li><li><code>PrismaticJoint</code>, which slides along one axis and has only one degree of freedom</li><li><code>HelicalJoint</code>, which rotates about and slides along one axis (two degrees of freedom)</li><li><code>SphericalJoint</code>, which rotates freely about one point (three degrees of freedom)</li><li><code>FreeJoint</code>, which can move in any manner (six degrees of freedom)</li></ul><p>However, in two spatial dimensions, there are only two</p><ul><li><code>RevoluteJoint</code> (one degree of freedom: rotation)</li><li><code>FreeJoint2d</code> (three degrees of freedom: rotation, two translation)</li></ul><pre><code class="language-julia hljs">using RigidBodyTools
using Plots</code></pre><p>A joint serves as a connection between two bodies; one of the bodies is the <em>parent</em> and the other is the <em>child</em>. It is also common for a body to be connected to the inertial coordinate system, in which case the inertial system is the parent and the body is the child. The user must specify the id of the parent body and the child body. The id of the inertial system is 0.</p><p>Before we discuss how a joint is specified, it is important to understand that a joint is basically just an intermediate <code>MotionTransform</code> from the parent body&#39;s system to the child body&#39;s system.</p><p>That is, to construct the transform from body P to body C, we would compose it as follows</p><p class="math-container">\[{}^C X_{P} = {}^{C}X_{J(C)} {}^{J(C)}X_{J(P)} {}^{J(P)}X_{P}\]</p><p>The transform in the middle is the joint transform and is the only one of these that can vary in time. It maps from one coordinate system attached (rididly) to the parent body to another coordinate system attached (rigidly) to the child body.</p><p>The degrees of freedom of the joint constrain the behavior of this joint transform. Below, we show how joints are constructed and used.</p><h2 id="Joint-construction-generalities"><a class="docs-heading-anchor" href="#Joint-construction-generalities">Joint construction generalities</a><a id="Joint-construction-generalities-1"></a><a class="docs-heading-anchor-permalink" href="#Joint-construction-generalities" title="Permalink"></a></h2><p>The user must specify where the joint is located on each body, relative to the origin of the body&#39;s coordinate system, and what orientation the joint takes with respect to the body&#39;s coordinate system. These are specified with <code>MotionTransform</code>s, transforming from each body&#39;s coordinate system to the joint&#39;s coordinate system on that body. This transform is invariant – it never changes.</p><p>Also, the user must specify the behavior of each of the degrees of freedom of a joint, using the tools we discussed in the previous page.</p><p>The basic signature is</p><p><code>Joint(joint_type,parent_body_id,Xp_to_jp,child_body_id,Xc_to_jc,doflist)</code></p><p>However, there is a specialized signature if you simply wish to place a body in some stationary configuration <code>X</code>:</p><p><code>Joint(X,body_id)</code></p><p>and if there is only one body and it is stationary, then</p><p><code>Joint(X)</code></p><p>will do.</p><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><p>Let&#39;s see a 2d example. Suppose we have two bodies, 1 and 2. Body 1 is to be connected to the inertial coordinate system, and prescribed with motion that causes it to oscillate rotationally (<em>pitch</em>) about a point located at <span>$(-1,0)$</span> and in the body&#39;s coordinate system, and this pitch axis can oscillate up and down (<em>heave</em>).</p><p>Body 2 is to be connected by a hinge to body 1, and this hinge&#39;s angle will also oscillate. We will set the hinge to be located at <span>$(1.02,0)$</span> on body 1 and <span>$(-1.02,0)$</span> on body 2.</p><h3 id="Joint-from-inertial-system-to-body-1"><a class="docs-heading-anchor" href="#Joint-from-inertial-system-to-body-1">Joint from inertial system to body 1</a><a id="Joint-from-inertial-system-to-body-1-1"></a><a class="docs-heading-anchor-permalink" href="#Joint-from-inertial-system-to-body-1" title="Permalink"></a></h3><p>First, let&#39;s construct the joint from the inertial system to body 1. This should be a <code>FreeJoint2d</code>, since motion is prescribed in two of the three degrees of freedom (as well as the third one, with zero velocity). We can assume that the joint is attached to the origin of the parent (the inertial system). On the child (body 1), the joint is to be at <code>[-1,0]</code>.</p><pre><code class="language-julia hljs">pid = 0
Xp_to_jp = MotionTransform([0,0],0)
cid = 1
Xc_to_jc = MotionTransform([-1,0],0)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2d motion transform, x = [-1.0, 0.0], R = [1.0 -0.0; 0.0 1.0]</code></pre><p>For the rotational and the y degrees of freedom, we need oscillatory motion. For the rotational motion, let&#39;s set the amplitude to <span>$\pi/4$</span> and the angular frequency to <span>$\Omega = 2\pi$</span>, but set the phase and mean velocity both to zero.</p><pre><code class="language-julia hljs">Ar = π/4
Ω = 2π
ϕr = 0.0
vel = 0.0
kr = OscillatoryDOF(Ar,Ω,ϕr,vel)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Oscillatory kinematics (amplitude = 0.7853981633974483, ang freq = 6.283185307179586, phase = 0.0, mean velocity = 0.0)</code></pre><p>For the plunging, we will set an amplitude of 1 and a phase lag of <span>$\pi/2$</span>, but keep the same frequency as the pitching.</p><pre><code class="language-julia hljs">Ay = 1
ϕy = -π/2
ky = OscillatoryDOF(Ay,Ω,ϕy,vel)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Oscillatory kinematics (amplitude = 1.0, ang freq = 6.283185307179586, phase = -1.5707963267948966, mean velocity = 0.0)</code></pre><p>The x degree of freedom is simply constant velocity, set to 0, to ensure it does not move in the <span>$x$</span> direction.</p><pre><code class="language-julia hljs">kx = ConstantVelocityDOF(0)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Constant velocity kinematics (velocity = 0.0)</code></pre><p>We put these together into a vector, to pass along to the joint constructor. The ordering of these in the vector is important. It must be [rotational, x, y].</p><pre><code class="language-julia hljs">dofs = [kr,kx,ky];</code></pre><p>Now set the joint</p><pre><code class="language-julia hljs">joint1 = Joint(FreeJoint2d,pid,Xp_to_jp,cid,Xc_to_jc,dofs)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Joint of dimension 2 and type FreeJoint2d
   Constrained dofs = [1, 2, 3]
   Exogenous dofs = Int64[]
   Unconstrained dofs = Int64[]
</code></pre><p>Note that this joint has three constrained degrees of freedom, no exogenous degrees of freedom, and no unconstrained degrees of freedom. In a later example, we will change this.</p><h3 id="Joint-from-body-1-to-body-2"><a class="docs-heading-anchor" href="#Joint-from-body-1-to-body-2">Joint from body 1 to body 2</a><a id="Joint-from-body-1-to-body-2-1"></a><a class="docs-heading-anchor-permalink" href="#Joint-from-body-1-to-body-2" title="Permalink"></a></h3><p>This joint is a <code>RevoluteJoint</code>. First set the joint locations on each body.</p><pre><code class="language-julia hljs">pid = 1
Xp_to_jp = MotionTransform([1.02,0],0)
cid = 2
Xc_to_jc = MotionTransform([-1.02,0],0)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2d motion transform, x = [-1.02, 0.0], R = [1.0 -0.0; 0.0 1.0]</code></pre><p>Now set its single degree of freedom (rotation) to have oscillatory kinematics. We will set its amplitude the same as before, but give it a phase lag</p><pre><code class="language-julia hljs">Ar = π/4
Ω = 2π
ϕr = -π/4
kr = OscillatoryDOF(Ar,Ω,ϕr,vel)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Oscillatory kinematics (amplitude = 0.7853981633974483, ang freq = 6.283185307179586, phase = -0.7853981633974483, mean velocity = 0.0)</code></pre><p>Put it in a one-element vector.</p><pre><code class="language-julia hljs">dofs = [kr];</code></pre><p>and construct the joint</p><pre><code class="language-julia hljs">joint2 = Joint(RevoluteJoint,pid,Xp_to_jp,cid,Xc_to_jc,dofs)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Joint of dimension 2 and type RevoluteJoint
   Constrained dofs = [1]
   Exogenous dofs = Int64[]
   Unconstrained dofs = Int64[]
</code></pre><p>Group the two joints together into a vector. It doesn&#39;t matter what order this vector is in, since the connectivity will be figured out any way it is ordered, but it numbers the joints by the order they are provided here.</p><pre><code class="language-julia hljs">joints = [joint1,joint2];</code></pre><h2 id="Assembling-the-joints-and-bodies"><a class="docs-heading-anchor" href="#Assembling-the-joints-and-bodies">Assembling the joints and bodies</a><a id="Assembling-the-joints-and-bodies-1"></a><a class="docs-heading-anchor-permalink" href="#Assembling-the-joints-and-bodies" title="Permalink"></a></h2><p>The joints and bodies comprise an overall <code>RigidBodyMotion</code> system. When this system is constructed, all of the connectivities are determined (or missing connectivities are revealed). The construction requires that we have set up the bodies themselves, so let&#39;s do that first. We will make both body 1 and body 2 an ellipse of aspect ratio 5. Note that ordering of bodies matters here, because the first in the list is interpreted as body 1, etc.</p><pre><code class="language-julia hljs">b1 = Ellipse(1.0,0.2,0.02)
b2 = Ellipse(1.0,0.2,0.02)
bodies = BodyList([b1,b2])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">BodyList(Body[Elliptical body with 208 points and semi-axes (1.0,0.2)
   Current position: (0.0,0.0)
   Current angle (rad): 0.0
, Elliptical body with 208 points and semi-axes (1.0,0.2)
   Current position: (0.0,0.0)
   Current angle (rad): 0.0
])</code></pre><p>Now we can construct the system</p><pre><code class="language-julia hljs">ls = RigidBodyMotion(joints,bodies)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1 linked system(s) of bodies
   2 bodies
   2 joints
</code></pre><p>Before we proceed, it is useful to demonstrate some of the tools we have to probe the connectivity of the system. For example, to find the parent joint of body 1, we use</p><pre><code class="language-julia hljs">parent_joint_of_body(1,ls)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1</code></pre><p>This returns 1, since we have connected body 1 to joint 1. How about the child joint of body 1? We expect it to be 2. Since there might be more than one child, this returns a vector:</p><pre><code class="language-julia hljs">child_joints_of_body(1,ls)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1-element Vector{Int64}:
 2</code></pre><p>We can also check the body connectivity of joints. This can be very useful for more complicated systems in which the joint numbering is less clear. The parent body of joint 1</p><pre><code class="language-julia hljs">parent_body_of_joint(1,ls)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">0</code></pre><p>This returns 0 since we have connected joint 1 to the inertial system. The child body of joint 2:</p><pre><code class="language-julia hljs">child_body_of_joint(2,ls)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2</code></pre><h2 id="The-system-state-vector"><a class="docs-heading-anchor" href="#The-system-state-vector">The system state vector</a><a id="The-system-state-vector-1"></a><a class="docs-heading-anchor-permalink" href="#The-system-state-vector" title="Permalink"></a></h2><p>A key concept in advancing, plotting, and doing further analysis of this system of joints and bodies is the <em>state vector</em>, <span>$x$</span>. This state vector has entries for the position of every degree of freedom of all of the joints. It also may have further entries for other quantities that need to be advanced, but for this example, there are no other entries.</p><p>There are two functions that are useful for constructing the state vector. The first is <code>zero_motion_state</code>, which simply creates a vector of zeros of the correct size.</p><pre><code class="language-julia hljs">zero_motion_state(bodies,ls)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">4-element Vector{Float64}:
 0.0
 0.0
 0.0
 0.0</code></pre><p>The second is <code>init_motion_state</code>, which fills in initial position values for any degrees of freedom that have been prescribed.</p><pre><code class="language-julia hljs">x = init_motion_state(bodies,ls)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">4-element Vector{Float64}:
 0.0
 0.0
 1.0
 0.5553603672697958</code></pre><p>Note that neither of these functions has any mutating effect on the arguments (<code>bodies</code> and <code>ls</code>).</p><p>Also, it is always possible for the user to modify the entries in the state vector after this function is called. In general, it would be difficult to determine which entry is which in this state vector, so we can use a special function for this. For example, to get access to just the part of the state vector for the positions of joint 1,</p><pre><code class="language-julia hljs">jid = 1
x1 = position_vector(x,ls,jid)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element view(::Vector{Float64}, [1, 2, 3]) with eltype Float64:
 0.0
 0.0
 1.0</code></pre><p>This is a view on the overall state vector. This, if you decide to change an entry of <code>x1</code>, this, in turn, would change the correct entry in <code>x</code>.</p><p>We can use the system state vector to put the bodies in their proper places, using the joint positions in <code>x</code>.</p><pre><code class="language-julia hljs">update_body!(bodies,x,ls)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">BodyList(Body[Elliptical body with 208 points and semi-axes (1.0,0.2)
   Current position: (1.0,1.0)
   Current angle (rad): 0.0
, Elliptical body with 208 points and semi-axes (1.0,0.2)
   Current position: (2.8867047018089242,1.5377945331279446)
   Current angle (rad): 0.5553603672697958
])</code></pre><p>Let&#39;s plot this just to check</p><pre><code class="language-julia hljs">plot(bodies,xlims=(-4,4),ylims=(-4,4))</code></pre><img src="9247423a.svg" alt="Example block output"/><h2 id="Advancing-the-state-vector"><a class="docs-heading-anchor" href="#Advancing-the-state-vector">Advancing the state vector</a><a id="Advancing-the-state-vector-1"></a><a class="docs-heading-anchor-permalink" href="#Advancing-the-state-vector" title="Permalink"></a></h2><p>Once the initial state vector is constructed, then the system can be advanced in time. In this example, there are no exogenous or unconstrained degrees of freedom that require extra input, so the system is <em>closed</em> as it is. To advance the system, we need to solve the system of equations <span>$\frac{\mathrm{d}x}{\mathrm{d}t} = f(x,t)$</span></p><p>The function <span>$f(x,t)$</span> describing the rate of change of <span>$x$</span> is given by the function <code>motion_rhs!</code>. This function mutates its first argument, the rate-of-change vector <code>dxdt</code>, which can then be used to update the state. The system and bodies are passed in as a tuple, followed by time.</p><p>Using a simple forward Euler method, the state vector can be advanced as follows</p><pre><code class="language-julia hljs">t0, x0 = 0.0, init_motion_state(bodies,ls)
dxdt = zero(x0)
x = copy(x0)
dt, tmax = 0.01, 4.0
for t in t0:dt:t0+tmax
  motion_rhs!(dxdt,x,(ls,bodies),t)
  global x += dxdt*dt
end</code></pre><p>Now that we know how to advance the state vector, let&#39;s create a macro that can be used to make a movie of the evolving system.</p><pre><code class="language-julia hljs">macro animate_motion(b,m,dt,tmax,xlim,ylim)
    return esc(quote
            bc = deepcopy($b)
            t0, x0 = 0.0, init_motion_state(bc,$m)
            dxdt = zero(x0)
            x = copy(x0)

            @gif for t in t0:$dt:t0+$tmax
                motion_rhs!(dxdt,x,($m,bc),t)
                global x += dxdt*$dt
                update_body!(bc,x,$m)
                plot(bc,xlims=$xlim,ylims=$ylim)
            end every 5
        end)
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">@animate_motion (macro with 1 method)</code></pre><p>Let&#39;s use it here</p><pre><code class="language-julia hljs">@animate_motion bodies ls 0.01 4 (-4,4) (-4,4)</code></pre><img src="70df8762.gif" alt="Example block output"/><h2 id="Joint-functions"><a class="docs-heading-anchor" href="#Joint-functions">Joint functions</a><a id="Joint-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Joint-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.Joint" href="#RigidBodyTools.Joint"><code>RigidBodyTools.Joint</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Joint(jtype::AbstractJointType,parent_id,Xp_to_j::MotionTransform,child_id,Xch_to_j::MotionTransform,
        dofs::Vector{AbstractDOFKinematics};[params=Dict()])</code></pre><p>Construct a joint of type <code>jtype</code>, connecting parent body of id <code>parent_id</code> to child body of id <code>child_id</code>. The placement of the joint on the bodies is given by <code>Xp_to_j</code> and <code>Xch_to_j</code>, the transforms from the parent and child coordinate systems to the joint system, respectively. Each of the degrees of freedom for the joint is specified with <code>dofs</code>, a vector of <code>AbstractDOFKinematics</code>. Any parameters required by the joint can be passed along in the optional <code>params</code> dictionary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/joints.jl#L49-L59">source</a></section><section><div><pre><code class="language-julia hljs">Joint(X::MotionTransform,bid::Int)</code></pre><p>Construct a joint that simply places the body with ID <code>bid</code> rigidly in the configuration given by <code>X</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/joints.jl#L453-L458">source</a></section><section><div><pre><code class="language-julia hljs">Joint(X::MotionTransform)</code></pre><p>For a problem with a single body, construct a joint that simply places the body rigidly in the configuration given by <code>X</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/joints.jl#L461-L466">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.zero_joint" href="#RigidBodyTools.zero_joint"><code>RigidBodyTools.zero_joint</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">zero_joint(joint::Joint[;dimfcn=position_and_vel_dimension])</code></pre><p>Create a vector of zeros for different aspects of the joint state, based on the argument <code>dimfcn</code>. By default, it uses <code>position_and_vel_dimension</code> and creates a zero vector sized according to the the position of the joint and the parts of the joint velocity that must be advanced (from acceleration). Alternatively, one can use <code>position_dimension</code>, <code>constrained_dimension</code>, <code>unconstrained_dimension</code>, or <code>exogenous_dimension</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/joints.jl#L158-L167">source</a></section><section><div><pre><code class="language-julia hljs">zero_joint(ls::RigidBodyMotion[;dimfcn=position_and_vel_dimension])</code></pre><p>Create a vector of zeros for some aspect of the state of the linked system(s) <code>ls</code>, based on the argument <code>dimfcn</code>. By default, it uses <code>position_and_vel_dimension</code> and creates a zero vector sized according to the state of the joint. Alternatively, one can use <code>position_dimension</code>, <code>constrained_dimension</code>, <code>unconstrained_dimension</code>, or <code>exogenous_dimension</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L375-L383">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.init_joint" href="#RigidBodyTools.init_joint"><code>RigidBodyTools.init_joint</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">init_joint(joint::Joint[;tinit=0.0])</code></pre><p>Create an initial state vector for a joint. It initializes the joint&#39;s constrained degrees of freedom with their kinematics, evaluated at time <code>tinit</code> (equal to zero, by default). Other degrees of freedom (exogenous, unconstrained) are initialized to zero, so they can be set manually.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/joints.jl#L172-L179">source</a></section></article><h2 id="System-and-state-functions"><a class="docs-heading-anchor" href="#System-and-state-functions">System and state functions</a><a id="System-and-state-functions-1"></a><a class="docs-heading-anchor-permalink" href="#System-and-state-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.RigidBodyMotion" href="#RigidBodyTools.RigidBodyMotion"><code>RigidBodyTools.RigidBodyMotion</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RigidBodyMotion</code></pre><p>Type containing the connectivities and motions of rigid bodies, linked to the inertial system and possibly to each other, via joints. The basic constructor is <code>RigidBodyMotion(joints::Vector{Joint},nbody::Int)</code>, in which <code>joints</code> contains a vector of joints of <a href="#RigidBodyTools.Joint"><code>Joint</code></a> type, each specifying the connection between a parent and a child body. (The parent may be the inertial coordinate system.)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L7-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.zero_motion_state" href="#RigidBodyTools.zero_motion_state"><code>RigidBodyTools.zero_motion_state</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">zero_motion_state(bl::BodyList,ls::RigidBodyMotion)</code></pre><p>Create a vector of zeros for the state of the linked system(s) <code>ls</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L389-L393">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.init_motion_state" href="#RigidBodyTools.init_motion_state"><code>RigidBodyTools.init_motion_state</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">init_motion_state(bl::BodyList,ls::RigidBodyMotion[;tinit = 0.0])</code></pre><p>Initialize the global linked system state vector, using the prescribed motions for constrained degrees of freedom to initialize the position components (evaluated at <code>tinit</code>, which by default is 0). The other degrees of freedom are initialized to zero, and can be set manually.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L409-L417">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.view-Tuple{AbstractVector, RigidBodyMotion, Int64}" href="#Base.view-Tuple{AbstractVector, RigidBodyMotion, Int64}"><code>Base.view</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">view(q::AbstractVector,ls::RigidBodyMotion,jid::Int[;dimfcn=position_dimension]) -&gt; SubArray</code></pre><p>Provide a view of the range of values in vector <code>q</code> corresponding to the position of the joint with index <code>jid</code> in a RigidBodyMotion <code>ls</code>. The optional argument <code>dimfcn</code> can be set to <code>position_dimension</code>, <code>constrained_dimension</code>, <code>unconstrained_dimension</code>, or <code>exogenous_dimension</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L283-L290">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.position_vector" href="#RigidBodyTools.position_vector"><code>RigidBodyTools.position_vector</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">position_vector(x::AbstractVector,ls::RigidBodyMotion)</code></pre><p>Returns a view of the global state vector for a linked system containing only the position.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L433-L437">source</a></section><section><div><pre><code class="language-julia hljs">position_vector(x::AbstractVector,ls::RigidBodyMotion,jid::Int)</code></pre><p>Returns a view of the global state vector for a linked system containing only the position of joint <code>jid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L443-L448">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.velocity_vector" href="#RigidBodyTools.velocity_vector"><code>RigidBodyTools.velocity_vector</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">velocity_vector(x::AbstractVector,ls::RigidBodyMotion)</code></pre><p>Returns a view of the global state vector for a linked system containing only the velocity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L480-L484">source</a></section><section><div><pre><code class="language-julia hljs">velocity_vector(x::AbstractVector,ls::RigidBodyMotion,jid::Int)</code></pre><p>Returns a view of the global state vector for a linked system containing only the velocity of joint <code>jid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L490-L495">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.deformation_vector" href="#RigidBodyTools.deformation_vector"><code>RigidBodyTools.deformation_vector</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">deformation_vector(x::AbstractVector,ls::RigidBodyMotion,bid::Int)</code></pre><p>Returns a view of the global state vector for a linked system containing only the body surface positions of the body with id <code>bid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L527-L532">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.exogenous_position_vector" href="#RigidBodyTools.exogenous_position_vector"><code>RigidBodyTools.exogenous_position_vector</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">exogenous_position_vector(x::AbstractVector,ls::RigidBodyMotion,jid::Int)</code></pre><p>Returns a view of the exogenous dof position(s), if any, of joint <code>jid</code> in the global state vector <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L455-L460">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.exogenous_velocity_vector" href="#RigidBodyTools.exogenous_velocity_vector"><code>RigidBodyTools.exogenous_velocity_vector</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">exogenous_velocity_vector(x::AbstractVector,ls::RigidBodyMotion,jid::Int)</code></pre><p>Returns a view of the exogenous dof position(s), if any, of joint <code>jid</code> in the global state vector <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L502-L507">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.unconstrained_position_vector" href="#RigidBodyTools.unconstrained_position_vector"><code>RigidBodyTools.unconstrained_position_vector</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">unconstrained_position_vector(x::AbstractVector,ls::RigidBodyMotion,jid::Int)</code></pre><p>Returns a view of the unconstrained dof position(s), if any, of joint <code>jid</code> in the global state vector <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L467-L472">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.unconstrained_velocity_vector" href="#RigidBodyTools.unconstrained_velocity_vector"><code>RigidBodyTools.unconstrained_velocity_vector</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">unconstrained_velocity_vector(x::AbstractVector,ls::RigidBodyMotion,jid::Int)</code></pre><p>Returns a view of the unconstrained dof position(s), if any, of joint <code>jid</code> in the global state vector <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L514-L519">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.body_transforms" href="#RigidBodyTools.body_transforms"><code>RigidBodyTools.body_transforms</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">body_transforms(x::AbstractVector,ls::RigidBodyMotion) -&gt; MotionTransformList</code></pre><p>Parse the overall state vector <code>x</code> into the individual joints and construct the inertial system-to-body transforms for every body. Return these transforms in a <code>MotionTransformList</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L295-L301">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.motion_transform_from_A_to_B" href="#RigidBodyTools.motion_transform_from_A_to_B"><code>RigidBodyTools.motion_transform_from_A_to_B</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">motion_transform_from_A_to_B(tl::MotionTransformList,bodyidA::Int,bodyidB::Int) -&gt; MotionTransform</code></pre><p>Returns a motion transform mapping from the coordinate system of body <code>bodyidA</code> to body <code>bodyidB</code>. Either of these bodies might be 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/lists.jl#L229-L234">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.force_transform_from_A_to_B" href="#RigidBodyTools.force_transform_from_A_to_B"><code>RigidBodyTools.force_transform_from_A_to_B</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">force_transform_from_A_to_B(tl::MotionTransformList,bodyidA::Int,bodyidB::Int) -&gt; ForceTransform</code></pre><p>Returns a force transform mapping from the coordinate system of body <code>bodyidA</code> to body <code>bodyidB</code>. Either of these bodies might be 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/lists.jl#L239-L244">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.body_velocities" href="#RigidBodyTools.body_velocities"><code>RigidBodyTools.body_velocities</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">body_velocities(x::AbstractVector,t::Real,ls::RigidBodyMotion) -&gt; PluckerMotionList</code></pre><p>Compute the velocities of bodies for the rigid body system <code>ls</code>, expressing each in its own coordinate system. To carry this out, the function evaluates velocities of dofs with prescribed kinematics at time <code>t</code> and and obtains the remaining free dofs (exogenous and unconstrained) from the state vector <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L327-L333">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.motion_rhs!" href="#RigidBodyTools.motion_rhs!"><code>RigidBodyTools.motion_rhs!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">motion_rhs!(dxdt::AbstractVector,x::AbstractVector,p::Tuple{RigidBodyMotion,BodyList},t::Real)</code></pre><p>Sets the right-hand side vector <code>dxdt</code> (mutating) for linked system <code>ls</code> of bodies <code>bl</code>, using the current state vector <code>x</code>, the current time <code>t</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L540-L545">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.zero_exogenous" href="#RigidBodyTools.zero_exogenous"><code>RigidBodyTools.zero_exogenous</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">zero_exogenous(ls::RigidBodyMotion)</code></pre><p>Generate a zero vector of exogenous acclerations for system <code>ls</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L579-L583">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.update_exogenous!" href="#RigidBodyTools.update_exogenous!"><code>RigidBodyTools.update_exogenous!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">update_exogenous!(ls::RigidBodyMotion,a_edof::AbstractVector)</code></pre><p>Mutates the exogenous buffer of <code>ls</code> with the supplied vector of exogenous accelerations <code>a_edof</code>. This function is useful for supplying time-varying exogenous values to the integrator from an outer loop.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L587-L593">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.maxvelocity" href="#RigidBodyTools.maxvelocity"><code>RigidBodyTools.maxvelocity</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">maxvelocity(b::Union{Body,BodyList},x::AbstractVector,m::RigidBodyMotion[,tmax=10,dt=0.05])</code></pre><p>Search through the given motion state vector <code>x</code> and motion <code>m</code> applied to body <code>b</code> and return <code>(umax,i,t,bid)</code>, the maximum velocity magnitude, the global index of the body point where it occurs, the time at which it occurs, and the body on which it occurs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L751-L757">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.ismoving-Tuple{RigidBodyMotion}" href="#RigidBodyTools.ismoving-Tuple{RigidBodyMotion}"><code>RigidBodyTools.ismoving</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ismoving(m::RigidBodyMotion)</code></pre><p>Checks if any joint in <code>m</code> is in motion</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L130-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.is_system_in_relative_motion" href="#RigidBodyTools.is_system_in_relative_motion"><code>RigidBodyTools.is_system_in_relative_motion</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_system_in_relative_motion(lsid::Int,ls::RigidBodyMotion) -&gt; Bool</code></pre><p>Returns <code>true</code> if the linked system with ID <code>lsid</code> is in relative motion, i.e., if one or more of the joints (not connected to the inertial system) returns <code>true</code> for the function <code>ismoving(joint)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L140-L146">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.rebase_from_inertial_to_reference" href="#RigidBodyTools.rebase_from_inertial_to_reference"><code>RigidBodyTools.rebase_from_inertial_to_reference</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">rebase_from_inertial_to_reference(Xi_to_A::MotionTransform,x::AbstractVector,m::RigidBodyMotion,reference_body::Int)</code></pre><p>If <code>Xi_to_A</code> represents a motion transform from the inertial coordinates to some other coordinates A, such as that of a body, then this function returns a motion transform from the reference body coordinates to coordinates A. It uses the current joint state vector <code>x</code> to construct the transform list of the system <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/rigidbodymotions.jl#L601-L608">source</a></section></article><h2 id="Joint-types"><a class="docs-heading-anchor" href="#Joint-types">Joint types</a><a id="Joint-types-1"></a><a class="docs-heading-anchor-permalink" href="#Joint-types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.RevoluteJoint" href="#RigidBodyTools.RevoluteJoint"><code>RigidBodyTools.RevoluteJoint</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RevoluteJoint &lt;: AbstractJointType</code></pre><p>A 2d or 3d joint with one rotational (about z axis) degree of freedom.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/joints.jl#L289-L293">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.PrismaticJoint" href="#RigidBodyTools.PrismaticJoint"><code>RigidBodyTools.PrismaticJoint</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PrismaticJoint &lt;: AbstractJointType</code></pre><p>A 3d joint with one translational (along z axis) degree of freedom.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/joints.jl#L309-L313">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.HelicalJoint" href="#RigidBodyTools.HelicalJoint"><code>RigidBodyTools.HelicalJoint</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HelicalJoint &lt;: AbstractJointType</code></pre><p>A 3d joint with one rotational (angle about z axis) degree of freedom, and coupled translational motion along the z axis based on pitch.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/joints.jl#L330-L335">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.SphericalJoint" href="#RigidBodyTools.SphericalJoint"><code>RigidBodyTools.SphericalJoint</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SphericalJoint &lt;: AbstractJointType</code></pre><p>A 3d joint with three rotational degrees of freedom. It uses a quaternion to define its orientation, so it has four position coordinates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/joints.jl#L370-L375">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.FreeJoint" href="#RigidBodyTools.FreeJoint"><code>RigidBodyTools.FreeJoint</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FreeJoint &lt;: AbstractJointType</code></pre><p>A 3d joint with all six degrees of freedom. It uses a quaternion to define its orientation, so it has seven position coordinates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/joints.jl#L397-L402">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RigidBodyTools.FreeJoint2d" href="#RigidBodyTools.FreeJoint2d"><code>RigidBodyTools.FreeJoint2d</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FreeJoint2d &lt;: AbstractJointType</code></pre><p>A 2d joint with three degrees of freedom (angle, x, y).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaIBPM/RigidBodyTools.jl/blob/392fd2ccdc3e46f3253a1c41ad9ef1c355e01c1e/src/joints.jl#L428-L432">source</a></section></article><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../dofmotions/">« Behaviors of degrees of freedom</a><a class="docs-footer-nextpage" href="../exogenous/">Exogenous degrees of freedom »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Tuesday 7 November 2023 06:43">Tuesday 7 November 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
